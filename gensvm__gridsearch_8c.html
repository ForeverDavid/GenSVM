<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GenSVM: src/gensvm_gridsearch.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GenSVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gensvm_gridsearch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for finding the optimal parameters for the dataset.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="gensvm__gridsearch_8h_source.html">gensvm_gridsearch.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gensvm_gridsearch.c:</div>
<div class="dyncontent">
<div class="center"><img src="gensvm__gridsearch_8c__incl.png" border="0" usemap="#src_2gensvm__gridsearch_8c" alt=""/></div>
<map name="src_2gensvm__gridsearch_8c" id="src_2gensvm__gridsearch_8c">
<area shape="rect" id="node2" href="gensvm__gridsearch_8h.html" title="Header file for gensvm_gridsearch.c. " alt="" coords="890,80,1051,107"/>
<area shape="rect" id="node3" href="gensvm__cross__validation_8h.html" title="Header file for gensvm_cross_validation.c. " alt="" coords="522,155,721,181"/>
<area shape="rect" id="node29" href="gensvm__cv__util_8h.html" title="Header file for gensvm_cv_util.c. " alt="" coords="744,155,880,181"/>
<area shape="rect" id="node30" href="gensvm__grid_8h.html" title="Header file for gensvm_grid.c. " alt="" coords="857,379,975,405"/>
<area shape="rect" id="node31" href="gensvm__queue_8h.html" title="Header file for gensvm_queue.c. " alt="" coords="904,155,1037,181"/>
<area shape="rect" id="node33" href="gensvm__timer_8h.html" title="Header file for gensvm_timer.c. " alt="" coords="1041,379,1167,405"/>
<area shape="rect" id="node4" href="gensvm__base_8h.html" title="Header file for gensvm_base.c. " alt="" coords="626,379,750,405"/>
<area shape="rect" id="node20" href="gensvm__init_8h.html" title="Header file for gensvm_init.c. " alt="" coords="723,229,837,256"/>
<area shape="rect" id="node21" href="gensvm__optimize_8h.html" title="Header file for gensvm_optimize.c. " alt="" coords="297,229,447,256"/>
<area shape="rect" id="node27" href="gensvm__predict_8h.html" title="Header file for gensvm_predict.c. " alt="" coords="491,229,629,256"/>
<area shape="rect" id="node5" href="gensvm__sparse_8h.html" title="Header file for gensvm_sparse.c. " alt="" coords="651,453,787,480"/>
<area shape="rect" id="node6" href="gensvm__globals_8h.html" title="Global definitions. " alt="" coords="701,528,841,555"/>
<area shape="rect" id="node7" href="gensvm__memory_8h.html" title="Header file for gensvm_memory.c. " alt="" coords="144,603,291,629"/>
<area shape="rect" id="node22" href="gensvm__sv_8h.html" title="Header file for gensvm_sv.c. " alt="" coords="168,304,275,331"/>
<area shape="rect" id="node23" href="gensvm__simplex_8h.html" title="Header file for gensvm_simplex.c. " alt="" coords="299,304,445,331"/>
<area shape="rect" id="node24" href="gensvm__update_8h.html" title="Header file for gensvm_update.c. " alt="" coords="5,304,144,331"/>
<area shape="rect" id="node26" href="gensvm__zv_8h.html" title="Header file for gensvm_zv.c. " alt="" coords="469,304,576,331"/>
<area shape="rect" id="node25" href="gensvm__print_8h.html" title="Header file for gensvm_print.c. " alt="" coords="343,453,465,480"/>
<area shape="rect" id="node28" href="gensvm__kernel_8h.html" title="Header file for gensvm_kernel.c. " alt="" coords="601,304,735,331"/>
<area shape="rect" id="node32" href="gensvm__task_8h.html" title="Header file for gensvm_task.c. " alt="" coords="913,229,1034,256"/>
</map>
</div>
</div>
<p><a href="gensvm__gridsearch_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a67fd9dee19091d1226c92af92e5b1281"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#a67fd9dee19091d1226c92af92e5b1281">gensvm_fill_queue</a> (struct <a class="el" href="structGenGrid.html">GenGrid</a> *grid, struct <a class="el" href="structGenQueue.html">GenQueue</a> *queue, struct <a class="el" href="structGenData.html">GenData</a> *train_data, struct <a class="el" href="structGenData.html">GenData</a> *test_data)</td></tr>
<tr class="memdesc:a67fd9dee19091d1226c92af92e5b1281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a> from a Training instance.  <a href="#a67fd9dee19091d1226c92af92e5b1281">More...</a><br /></td></tr>
<tr class="separator:a67fd9dee19091d1226c92af92e5b1281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980959b41c1fbde84b7d9c299d66bac8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#a980959b41c1fbde84b7d9c299d66bac8">gensvm_kernel_changed</a> (struct <a class="el" href="structGenTask.html">GenTask</a> *newtask, struct <a class="el" href="structGenTask.html">GenTask</a> *oldtask)</td></tr>
<tr class="memdesc:a980959b41c1fbde84b7d9c299d66bac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the kernel parameters change between tasks.  <a href="#a980959b41c1fbde84b7d9c299d66bac8">More...</a><br /></td></tr>
<tr class="separator:a980959b41c1fbde84b7d9c299d66bac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f11ccc485d8a6cfb92918ec69754f15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#a3f11ccc485d8a6cfb92918ec69754f15">gensvm_kernel_folds</a> (long folds, struct <a class="el" href="structGenModel.html">GenModel</a> *model, struct <a class="el" href="structGenData.html">GenData</a> **train_folds, struct <a class="el" href="structGenData.html">GenData</a> **test_folds)</td></tr>
<tr class="memdesc:a3f11ccc485d8a6cfb92918ec69754f15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the kernels for the folds of the train and test datasets.  <a href="#a3f11ccc485d8a6cfb92918ec69754f15">More...</a><br /></td></tr>
<tr class="separator:a3f11ccc485d8a6cfb92918ec69754f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa396ee57d909ea921948adf354c2091d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#aa396ee57d909ea921948adf354c2091d">gensvm_train_queue</a> (struct <a class="el" href="structGenQueue.html">GenQueue</a> *q)</td></tr>
<tr class="memdesc:aa396ee57d909ea921948adf354c2091d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the grid search for a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a>.  <a href="#aa396ee57d909ea921948adf354c2091d">More...</a><br /></td></tr>
<tr class="separator:aa396ee57d909ea921948adf354c2091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d559f87472e29126ad5b3f6271e266b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#a3d559f87472e29126ad5b3f6271e266b">gensvm_gridsearch_progress</a> (struct <a class="el" href="structGenTask.html">GenTask</a> *task, long N, double perf, double duration, double current_max)</td></tr>
<tr class="memdesc:a3d559f87472e29126ad5b3f6271e266b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the description of the current task on screen.  <a href="#a3d559f87472e29126ad5b3f6271e266b">More...</a><br /></td></tr>
<tr class="separator:a3d559f87472e29126ad5b3f6271e266b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa792ba0b8170b42eeb16fd4f04d54429"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensvm__gridsearch_8c.html#aa792ba0b8170b42eeb16fd4f04d54429">GENSVM_OUTPUT_FILE</a></td></tr>
<tr class="separator:aa792ba0b8170b42eeb16fd4f04d54429"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for finding the optimal parameters for the dataset. </p>
<dl class="section author"><dt>Author</dt><dd>G.J.J. van den Burg </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2014-01-07</dd></dl>
<p>The GenSVM algorithm takes a number of parameters. The functions in this file are used to find the optimal parameters.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2016, G.J.J. van den Burg.</dd></dl>
<p>This file is part of GenSVM.</p>
<p>GenSVM is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>GenSVM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with GenSVM. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a67fd9dee19091d1226c92af92e5b1281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fd9dee19091d1226c92af92e5b1281">&#9670;&nbsp;</a></span>gensvm_fill_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensvm_fill_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structGenGrid.html">GenGrid</a> *&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenQueue.html">GenQueue</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenData.html">GenData</a> *&#160;</td>
          <td class="paramname"><em>train_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenData.html">GenData</a> *&#160;</td>
          <td class="paramname"><em>test_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a> from a Training instance. </p>
<p>A Training instance describes the grid to search over. This funtion creates all tasks that need to be performed and adds these to a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a>. Each task contains a pointer to the train and test datasets which are supplied. Note that the tasks are created in a specific order of the parameters, to ensure that the <a class="el" href="structGenModel.html#ad67883533f4bc9cc6672f6e08291c90a" title="augmented weight matrix ">GenModel::V</a> of a previous parameter set provides the best possible initial estimate of <a class="el" href="structGenModel.html#ad67883533f4bc9cc6672f6e08291c90a" title="augmented weight matrix ">GenModel::V</a> for the next parameter set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>Training struct describing the grid search </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queue</td><td>pointer to a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a> that will be used to add the tasks to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">train_data</td><td><a class="el" href="structGenData.html" title="A structure to represent the data. ">GenData</a> of the training set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">test_data</td><td><a class="el" href="structGenData.html" title="A structure to represent the data. ">GenData</a> of the test set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="gensvm__gridsearch_8c_source.html#l00054">54</a> of file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gensvm__gridsearch_8c_a67fd9dee19091d1226c92af92e5b1281_cgraph.png" border="0" usemap="#gensvm__gridsearch_8c_a67fd9dee19091d1226c92af92e5b1281_cgraph" alt=""/></div>
<map name="gensvm__gridsearch_8c_a67fd9dee19091d1226c92af92e5b1281_cgraph" id="gensvm__gridsearch_8c_a67fd9dee19091d1226c92af92e5b1281_cgraph">
<area shape="rect" id="node2" href="gensvm__task_8h.html#a138c30cecb1cf46a002cd6581328a33c" title="Initialize a GenTask structure. " alt="" coords="197,5,335,32"/>
</map>
</div>

</div>
</div>
<a id="a3d559f87472e29126ad5b3f6271e266b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d559f87472e29126ad5b3f6271e266b">&#9670;&nbsp;</a></span>gensvm_gridsearch_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensvm_gridsearch_progress </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structGenTask.html">GenTask</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>perf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the description of the current task on screen. </p>
<p>To track the progress of the grid search the parameters of the current task are written to the output specified in GENSVM_OUTPUT_FILE. Since the parameters differ with the specified kernel, this function writes a parameter string depending on which kernel is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>the <a class="el" href="structGenTask.html" title="A structure for a single task in the queue. ">GenTask</a> specified </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">N</td><td>total number of tasks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">perf</td><td>performance of the current task </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">duration</td><td>time duration of the current task </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current_max</td><td>current best performance </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="gensvm__gridsearch_8c_source.html#l00357">357</a> of file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gensvm__gridsearch_8c_a3d559f87472e29126ad5b3f6271e266b_cgraph.png" border="0" usemap="#gensvm__gridsearch_8c_a3d559f87472e29126ad5b3f6271e266b_cgraph" alt=""/></div>
<map name="gensvm__gridsearch_8c_a3d559f87472e29126ad5b3f6271e266b_cgraph" id="gensvm__gridsearch_8c_a3d559f87472e29126ad5b3f6271e266b_cgraph">
<area shape="rect" id="node2" href="gensvm__print_8h.html#a4502a32a6f7952faad96b8e5c758a7f7" title="Parse a formatted string and write to the output stream. " alt="" coords="265,5,316,32"/>
</map>
</div>

</div>
</div>
<a id="a980959b41c1fbde84b7d9c299d66bac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980959b41c1fbde84b7d9c299d66bac8">&#9670;&nbsp;</a></span>gensvm_kernel_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gensvm_kernel_changed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structGenTask.html">GenTask</a> *&#160;</td>
          <td class="paramname"><em>newtask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenTask.html">GenTask</a> *&#160;</td>
          <td class="paramname"><em>oldtask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the kernel parameters change between tasks. </p>
<p>In the current strategy for training the kernel matrix is decomposed once, and tasks with the same kernel settings are performed sequentially. When a task needs to be done with different kernel parameters, the kernel matrix needs to be recalculated. This function is used to check whether this is the case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newtask</td><td>the next task </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oldtask</td><td>the old task </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the kernel needs to be reevaluated </dd></dl>

<p class="definition">Definition at line <a class="el" href="gensvm__gridsearch_8c_source.html#l00195">195</a> of file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>

</div>
</div>
<a id="a3f11ccc485d8a6cfb92918ec69754f15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f11ccc485d8a6cfb92918ec69754f15">&#9670;&nbsp;</a></span>gensvm_kernel_folds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensvm_kernel_folds </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>folds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenModel.html">GenModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenData.html">GenData</a> **&#160;</td>
          <td class="paramname"><em>train_folds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structGenData.html">GenData</a> **&#160;</td>
          <td class="paramname"><em>test_folds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the kernels for the folds of the train and test datasets. </p>
<p>When the kernel parameters change in a kernel grid search, the kernel pre- and post-processing has to be done for the new kernel parameters. This is done here for each of the folds. Each of the training folds is preprocessed, and each of the test folds is postprocessed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">folds</td><td>number of cross validation folds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td><a class="el" href="structGenModel.html" title="A structure to represent a single GenSVM model. ">GenModel</a> with new kernel parameters </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">train_folds</td><td>array of train datasets </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">test_folds</td><td>array of test datasets </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="gensvm__gridsearch_8c_source.html#l00238">238</a> of file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gensvm__gridsearch_8c_a3f11ccc485d8a6cfb92918ec69754f15_cgraph.png" border="0" usemap="#gensvm__gridsearch_8c_a3f11ccc485d8a6cfb92918ec69754f15_cgraph" alt=""/></div>
<map name="gensvm__gridsearch_8c_a3f11ccc485d8a6cfb92918ec69754f15_cgraph" id="gensvm__gridsearch_8c_a3f11ccc485d8a6cfb92918ec69754f15_cgraph">
<area shape="rect" id="node2" href="gensvm__print_8h.html#a4502a32a6f7952faad96b8e5c758a7f7" title="Parse a formatted string and write to the output stream. " alt="" coords="293,5,343,32"/>
<area shape="rect" id="node3" href="gensvm__kernel_8h.html#a67af575255ad5d1d0b466338b6ce2143" title="Do the preprocessing steps needed to perform kernel GenSVM. " alt="" coords="218,165,418,192"/>
<area shape="rect" id="node14" href="gensvm__kernel_8h.html#a2b68a2eb99cc65b2e4548035ff29071a" title="Compute the kernel postprocessing factor. " alt="" coords="215,56,421,83"/>
<area shape="rect" id="node4" href="gensvm__kernel_8c.html#ac0c2480e55a32684801b7c63bbf63855" title="Compute the kernel matrix. " alt="" coords="485,224,671,251"/>
<area shape="rect" id="node9" href="gensvm__kernel_8c.html#a004601c881f44348a9b5c5b8c40f29a5" title="Find the (reduced) eigendecomposition of a kernel matrix. " alt="" coords="469,275,687,301"/>
<area shape="rect" id="node12" href="gensvm__kernel_8c.html#a4caf1f9ac5d2e0c98ae027ddd46215e4" title="Compute the training factor as part of kernel preprocessing. " alt="" coords="479,107,677,133"/>
<area shape="rect" id="node13" href="gensvm__kernel_8c.html#a92cb913a3f8dc089b83fdc98abf4a453" title="Copy the kernelparameters from GenModel to GenData. " alt="" coords="494,158,662,199"/>
<area shape="rect" id="node5" href="gensvm__kernel_8c.html#a9360b598f7e58911d2c00455306365eb" title="Compute the polynomial kernel between two vectors. " alt="" coords="747,15,932,41"/>
<area shape="rect" id="node6" href="gensvm__kernel_8c.html#a520a66a6afaa320dbcc520b2773f3a2d" title="Compute the RBF kernel between two vectors. " alt="" coords="752,73,927,100"/>
<area shape="rect" id="node7" href="gensvm__kernel_8c.html#a13231a7d4bdae5d54f566329583e58ea" title="Compute the sigmoid kernel between two vectors. " alt="" coords="735,140,944,167"/>
<area shape="rect" id="node8" href="gensvm__print_8h.html#aede5746344fdce99647541101eaa7f06" title="Parse a formatted string and write it to standard error. " alt="" coords="819,224,859,251"/>
<area shape="rect" id="node10" href="gensvm__kernel_8c.html#ab8b09d9e218aa2642a9f078b1daa9237" title="Determine double precision machine parameters. " alt="" coords="804,275,875,301"/>
<area shape="rect" id="node11" href="gensvm__kernel_8c.html#a36d0f7deb87d01203d8f3a0a49f6f0f7" title="Compute the eigenvalues and optionally the eigenvectors of a symmetric matrix. " alt="" coords="805,325,874,352"/>
<area shape="rect" id="node15" href="gensvm__kernel_8c.html#abe3161aaaef57e62c2c9a6ae71b2127e" title="Compute the kernel crossproduct between two datasets. " alt="" coords="497,5,659,32"/>
<area shape="rect" id="node16" href="gensvm__kernel_8c.html#acbe565e8fe856bc208b7d178e54631a2" title="Calculate the matrix product for the testfactor. " alt="" coords="482,56,674,83"/>
</map>
</div>

</div>
</div>
<a id="aa396ee57d909ea921948adf354c2091d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa396ee57d909ea921948adf354c2091d">&#9670;&nbsp;</a></span>gensvm_train_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensvm_train_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structGenQueue.html">GenQueue</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the grid search for a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a>. </p>
<p>Given a <a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a> of <a class="el" href="structGenTask.html" title="A structure for a single task in the queue. ">GenTask</a> struct to be trained, a grid search is launched to find the optimal parameter configuration. As is also done within cross_validation(), the optimal weights of one parameter set are used as initial estimates for <a class="el" href="structGenModel.html#ad67883533f4bc9cc6672f6e08291c90a" title="augmented weight matrix ">GenModel::V</a> in the next parameter set. Note that to optimally exploit this feature of the optimization algorithm, the order in which tasks are considered is important. This is considered in make_queue().</p>
<p>The performance found by cross validation is stored in the <a class="el" href="structGenTask.html" title="A structure for a single task in the queue. ">GenTask</a> struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">q</td><td><a class="el" href="structGenQueue.html" title="Simple task queue. ">GenQueue</a> with <a class="el" href="structGenTask.html" title="A structure for a single task in the queue. ">GenTask</a> instances to run </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="gensvm__gridsearch_8c_source.html#l00274">274</a> of file <a class="el" href="gensvm__gridsearch_8c_source.html">gensvm_gridsearch.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gensvm__gridsearch_8c_aa396ee57d909ea921948adf354c2091d_cgraph.png" border="0" usemap="#gensvm__gridsearch_8c_aa396ee57d909ea921948adf354c2091d_cgraph" alt=""/></div>
<map name="gensvm__gridsearch_8c_aa396ee57d909ea921948adf354c2091d_cgraph" id="gensvm__gridsearch_8c_aa396ee57d909ea921948adf354c2091d_cgraph">
<area shape="rect" id="node2" href="gensvm__queue_8h.html#aaeee41d004f0cc2372f7e91f5ce0aaaa" title="Get new GenTask from GenQueue. " alt="" coords="248,5,363,32"/>
<area shape="rect" id="node3" href="gensvm__base_8h.html#a96f35734dcba63d95e08addd2dabce3d" title="Initialize a GenModel structure. " alt="" coords="230,56,381,83"/>
<area shape="rect" id="node4" href="gensvm__base_8h.html#a3b6c01ec77b5726843f7dd6c68593f6a" title="Allocate memory for a GenModel. " alt="" coords="215,107,396,133"/>
<area shape="rect" id="node5" href="gensvm__init_8h.html#a53ecc294597cda7237800957f8cd4077" title="Seed the matrix V from an existing model or using rand. " alt="" coords="246,157,365,184"/>
<area shape="rect" id="node6" href="gensvm__cv__util_8h.html#a40141c490fa70188ef6109022c4daae7" title="Create a cross validation split vector. " alt="" coords="218,208,393,235"/>
<area shape="rect" id="node7" href="gensvm__base_8h.html#a2123ffe5f44db584421e139be7d31b6c" title="Initialize a GenData structure. " alt="" coords="236,259,375,285"/>
<area shape="rect" id="node8" href="gensvm__cv__util_8h.html#aac719077b8560d022e2473933e80dd99" title="Wrapper around sparse/dense versions of this function. " alt="" coords="228,309,383,336"/>
<area shape="rect" id="node12" href="gensvm__task_8h.html#ad23d6b46f7554c1598f62619486f438e" title="Copy parameters from GenTask to GenModel. " alt="" coords="217,360,394,387"/>
<area shape="rect" id="node13" href="gensvm__gridsearch_8c.html#a980959b41c1fbde84b7d9c299d66bac8" title="Check if the kernel parameters change between tasks. " alt="" coords="213,411,397,437"/>
<area shape="rect" id="node14" href="gensvm__gridsearch_8c.html#a3f11ccc485d8a6cfb92918ec69754f15" title="Compute the kernels for the folds of the train and test datasets. " alt="" coords="225,563,386,589"/>
<area shape="rect" id="node15" href="gensvm__print_8h.html#a4502a32a6f7952faad96b8e5c758a7f7" title="Parse a formatted string and write to the output stream. " alt="" coords="790,461,841,488"/>
<area shape="rect" id="node30" href="gensvm__cross__validation_8h.html#ac484e26c64722bda639cba6d10235d71" title="Run cross validation with a given set of train/test folds. " alt="" coords="212,1009,399,1036"/>
<area shape="rect" id="node46" href="gensvm__timer_8h.html#a73278297dac3cd32d59f880dae85a471" title="Calculate the time between two time recordings. " alt="" coords="221,613,390,640"/>
<area shape="rect" id="node47" href="gensvm__gridsearch_8c.html#a3d559f87472e29126ad5b3f6271e266b" title="Print the description of the current task on screen. " alt="" coords="447,461,659,488"/>
<area shape="rect" id="node48" href="gensvm__base_8h.html#a0cf72f34706ed286c922ce74ee11f0be" title="Free allocated GenModel struct. " alt="" coords="228,1060,383,1087"/>
<area shape="rect" id="node49" href="gensvm__base_8h.html#a98f3696d492bec4485e3f2a42062705f" title="Free allocated GenData struct. " alt="" coords="234,1161,377,1188"/>
<area shape="rect" id="node9" href="gensvm__cv__util_8c.html#a68cce5815b1a10754a4b9b2315d1d563" title="Create train and test dataset for a CV split with sparse data. " alt="" coords="475,334,630,375"/>
<area shape="rect" id="node11" href="gensvm__cv__util_8c.html#a99a835eecb7ddafa52ba497a887b4f5b" title="Create train and test datasets for a CV split with dense data. " alt="" coords="475,269,630,310"/>
<area shape="rect" id="node10" href="gensvm__sparse_8h.html#ac45d0a15c75382ad8f3f4232eadf9f4d" title="Initialize a GenSparse structure. " alt="" coords="739,341,891,368"/>
<area shape="rect" id="node16" href="gensvm__kernel_8h.html#a67af575255ad5d1d0b466338b6ce2143" title="Do the preprocessing steps needed to perform kernel GenSVM. " alt="" coords="453,672,653,699"/>
<area shape="rect" id="node27" href="gensvm__kernel_8h.html#a2b68a2eb99cc65b2e4548035ff29071a" title="Compute the kernel postprocessing factor. " alt="" coords="449,613,656,640"/>
<area shape="rect" id="node17" href="gensvm__kernel_8c.html#ac0c2480e55a32684801b7c63bbf63855" title="Compute the kernel matrix. " alt="" coords="722,613,909,640"/>
<area shape="rect" id="node22" href="gensvm__kernel_8c.html#a004601c881f44348a9b5c5b8c40f29a5" title="Find the (reduced) eigendecomposition of a kernel matrix. " alt="" coords="707,731,924,757"/>
<area shape="rect" id="node25" href="gensvm__kernel_8c.html#a4caf1f9ac5d2e0c98ae027ddd46215e4" title="Compute the training factor as part of kernel preprocessing. " alt="" coords="717,781,914,808"/>
<area shape="rect" id="node26" href="gensvm__kernel_8c.html#a92cb913a3f8dc089b83fdc98abf4a453" title="Copy the kernelparameters from GenModel to GenData. " alt="" coords="731,665,899,706"/>
<area shape="rect" id="node18" href="gensvm__kernel_8c.html#a9360b598f7e58911d2c00455306365eb" title="Compute the polynomial kernel between two vectors. " alt="" coords="984,639,1169,665"/>
<area shape="rect" id="node19" href="gensvm__kernel_8c.html#a520a66a6afaa320dbcc520b2773f3a2d" title="Compute the RBF kernel between two vectors. " alt="" coords="989,537,1164,564"/>
<area shape="rect" id="node20" href="gensvm__kernel_8c.html#a13231a7d4bdae5d54f566329583e58ea" title="Compute the sigmoid kernel between two vectors. " alt="" coords="972,588,1181,615"/>
<area shape="rect" id="node21" href="gensvm__print_8h.html#aede5746344fdce99647541101eaa7f06" title="Parse a formatted string and write it to standard error. " alt="" coords="1057,823,1097,849"/>
<area shape="rect" id="node23" href="gensvm__kernel_8c.html#ab8b09d9e218aa2642a9f078b1daa9237" title="Determine double precision machine parameters. " alt="" coords="1041,761,1112,788"/>
<area shape="rect" id="node24" href="gensvm__kernel_8c.html#a36d0f7deb87d01203d8f3a0a49f6f0f7" title="Compute the eigenvalues and optionally the eigenvectors of a symmetric matrix. " alt="" coords="1042,711,1111,737"/>
<area shape="rect" id="node28" href="gensvm__kernel_8c.html#abe3161aaaef57e62c2c9a6ae71b2127e" title="Compute the kernel crossproduct between two datasets. " alt="" coords="734,563,897,589"/>
<area shape="rect" id="node29" href="gensvm__kernel_8c.html#acbe565e8fe856bc208b7d178e54631a2" title="Calculate the matrix product for the testfactor. " alt="" coords="719,512,911,539"/>
<area shape="rect" id="node31" href="gensvm__base_8h.html#a27542d9e799eb0e6f3cfdfa0934412fc" title="Reallocate memory for GenModel. " alt="" coords="455,1111,650,1137"/>
<area shape="rect" id="node32" href="gensvm__init_8h.html#a0cb86a00bfa52b2ebc86e2b98687928c" title="Initialize instance weights. " alt="" coords="455,908,650,935"/>
<area shape="rect" id="node33" href="gensvm__optimize_8h.html#afc45b0d1cbcf433860d4d268bc6e4cd7" title="The main training loop for GenSVM. " alt="" coords="483,1009,622,1036"/>
<area shape="rect" id="node44" href="gensvm__predict_8h.html#a9ea580930c4e052a9a57b35aade71a02" title="Predict class labels of data given and output in predy. " alt="" coords="467,1212,639,1239"/>
<area shape="rect" id="node45" href="gensvm__predict_8h.html#ac9f09ed40eaede14f2a701321d65620b" title="Calculate the predictive performance (percentage correct) " alt="" coords="463,1060,642,1087"/>
<area shape="rect" id="node34" href="gensvm__base_8h.html#a52120d849ff52751c7995c24dfa50f00" title="Initialize the workspace structure. " alt="" coords="745,883,886,909"/>
<area shape="rect" id="node35" href="gensvm__simplex_8h.html#ada27d56b6de435551330c8300e9089ea" title="Generate matrix of simplex vertex coordinates. " alt="" coords="749,1288,882,1315"/>
<area shape="rect" id="node36" href="gensvm__simplex_8h.html#a99b48c0294e8275dd092fc5cf947bf0f" title="Generate the simplex difference matrix. " alt="" coords="735,933,896,960"/>
<area shape="rect" id="node37" href="gensvm__optimize_8c.html#a2a54331e09c9e271cb2ed6a1c389f244" title="Calculate the current value of the loss function. " alt="" coords="748,1237,883,1264"/>
<area shape="rect" id="node40" href="gensvm__update_8h.html#a21ca55554aabb785a5e0c1d8d73d01c4" title="Perform a single step of the majorization algorithm to update V. " alt="" coords="738,1035,893,1061"/>
<area shape="rect" id="node41" href="gensvm__optimize_8c.html#a91f4c8afa45b2558bb4963e9379c8ec2" title="Use step doubling. " alt="" coords="729,1085,901,1112"/>
<area shape="rect" id="node42" href="gensvm__sv_8h.html#afc35a5c0358a51c8559fe780e7fee5ca" title="Calculate the number of support vectors in a model. " alt="" coords="749,1136,881,1163"/>
<area shape="rect" id="node43" href="gensvm__base_8h.html#a25a671211eb5a8e6b2b9ae214a8a6428" title="Free an allocated GenWork instance. " alt="" coords="742,1187,889,1213"/>
<area shape="rect" id="node38" href="gensvm__optimize_8c.html#a929b779c3a597dbe8f2fb763c4574221" title="Calculate the scalar errors. " alt="" coords="984,1263,1169,1289"/>
<area shape="rect" id="node39" href="gensvm__zv_8h.html#a2b2e19db75b36241c3d26b57b2a35901" title="Wrapper around sparse/dense versions of this function. " alt="" coords="1229,1288,1395,1315"/>
<area shape="rect" id="node50" href="gensvm__sparse_8h.html#a1bd9399ffc0b5e4d32ac160eb3143864" title="Free an allocated GenSparse structure. " alt="" coords="474,1263,631,1289"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa792ba0b8170b42eeb16fd4f04d54429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa792ba0b8170b42eeb16fd4f04d54429">&#9670;&nbsp;</a></span>GENSVM_OUTPUT_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* GENSVM_OUTPUT_FILE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="gensvm__print_8c.html#aa792ba0b8170b42eeb16fd4f04d54429">GENSVM_OUTPUT_FILE</a> specifies the output stream to which all output is written. This is done through the function <a class="el" href="gensvm__print_8c.html#a4502a32a6f7952faad96b8e5c758a7f7" title="Parse a formatted string and write to the output stream. ">note()</a>. The advantage of using a global output stream variable is that the output can temporarily be suppressed by importing this variable through <code>extern</code> and (temporarily) setting it to NULL. </p>

<p class="definition">Definition at line <a class="el" href="gensvm__print_8c_source.html#l00033">33</a> of file <a class="el" href="gensvm__print_8c_source.html">gensvm_print.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 17 2017 18:59:17 for GenSVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
